
apply plugin: 'java'

ext
{
	//Versions
	lwjgl = 'lwjgl:2.9.1'
	guava = 'guava:16.0.1'
	jdom = 'jdom2:2.0.5'
}

repositories
{
	mavenCentral()
}

sourceSets
{
	main
	{
		output.resourcesDir = 'java/CaelumEngine/'
		output.classesDir = 'java/CaelumEngine/'
	}
}

dependencies
{
	compile 'org.lwjgl.lwjgl:${ext.lwjgl}'
	compile 'com.google.guava:${ext.guava}'
	compile 'org.jdom:${ext.jdom}'
	compile files("java/CaelumEngine/lib/jstackalloc/stack-alloc.jar")
}

jar
{
	manifest
	{
		attributes('Main-class': 'com.elusivehawk.engine.core.CaelumEngine')
	}

	from configurations.compile.collect {it.isDirectory() ? it : zipTree(it)}

	into ("natives")
	{
		from fileTree("java/CaelumEngine/lib/lwjgl/native")
	}

	exclude "BenchmarkTest.class"
	exclude "RepoCodeStyle.class"
	exclude "ExampleGame.class"
	exclude "LICENSE"
	exclude "README.md"

	duplicatesStrategy = DuplicatesStrategy.EXCLUDE
}